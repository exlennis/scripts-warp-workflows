# AI-Tag: file-management, package-management, system-maintenance
name: check-package-updates
title: Check Package Updates
description: Checks for available updates across multiple package managers (Homebrew, pip, gem, npm, and yarn)
tags: [updates, packages, maintenance, homebrew, pip, gem, npm, yarn]
source: Generated by AI
author: AI Assistant
date: 20240531
version: 1.0.0

arguments:
  - name: verbose
    description: Show detailed output from all package managers
    default_value: "false"
  - name: output_file
    description: Optional file to save the summary results
    default_value: ""
    
steps:
  - name: Create temp directory for results
    command: |
      # Create a temporary directory to store results
      TIMESTAMP=$(date +"%Y%m%d")
      TEMP_DIR="/tmp/package-updates-$TIMESTAMP"
      mkdir -p "$TEMP_DIR"
      echo "Temporary results directory: $TEMP_DIR"
      echo "$TEMP_DIR" > /tmp/package_update_temp_dir
  - name: Check for homebrew updates
    command: |
      echo "=== Checking Homebrew packages ==="
      brew outdated
    
  - name: Check for Python pip updates
    command: |
      echo "=== Checking Python pip packages ==="
      pip list --outdated
    
  - name: Check for Ruby gem updates
    command: |
      echo "=== Checking Ruby gems ==="
      echo "⚠️  WARNING: These gems are part of the macOS system installation. Updating them is NOT recommended as it may break system functionality."
      echo "             macOS system updates might overwrite any changes and the system might have specific version dependencies."
      echo ""
      gem outdated
    
  - name: Check for npm updates
    command: |
      echo "=== Checking npm packages ==="
      npm outdated -g
    
  - name: Check for yarn updates
    command: |
      echo "=== Checking yarn packages ==="
      yarn global outdated

outputs:
  - name: summary
    description: Lists of packages that need updates across all package managers

